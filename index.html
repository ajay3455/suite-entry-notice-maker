<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Gloucester on Yonge - Suite Entry Notice Generator</title>
    <style>
        /* General Styles */
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #fff4e6, #ffe8e8);
            color: #333;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            width: 100%;
            max-width: 1100px;
        }

        .form-container, .notice-container {
            background-color: #ffffff;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            margin: 10px auto;
        }

        h1 {
            text-align: center;
            color: #8B0000;
            margin-bottom: 20px;
        }

        .gloucester-logo img {
            display: block;
            margin: 0 auto 10px auto;
            width: 150px;
            height: auto;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #555;
        }

        input[type="text"], select, textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 12px;
            border: 2px solid #f0b27a;
            border-radius: 6px;
            font-size: 16px;
        }

        input[type="checkbox"] {
            margin-right: 5px;
        }

        button {
            background-color: #d35400;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
        }

        .notice {
            text-align: center;
            margin-top: 20px;
        }

        .notice-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .notice-content {
            border: 2px solid #000;
            padding: 15px;
            margin: 10px;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
        }

        .notice-content h2 {
            font-size: 20px;
            margin-bottom: 15px;
        }

        .notice-content p {
            font-size: 16px;
            margin: 5px 0;
        }

        .logo-img {
            width: 150px;
            margin-bottom: 10px;
        }

        .lock-img {
            width: 50px;
            margin-bottom: 15px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }

        .action-buttons button {
            width: 100%;
            background-color: #28a745;
            padding: 12px;
        }

        .action-buttons button:hover {
            background-color: #218838;
        }

        .action-buttons button:active {
            background-color: #1e7e34;
        }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }

            #noticePrintArea {
                display: block !important;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                margin: 0;
                padding: 0;
            }

            #noticePrintArea, #noticePrintArea * {
                visibility: visible;
            }

            .print-thermal .notice-content {
                width: 80mm;
                margin: 0 auto;
            }

            .print-a4-1 .notice-content {
                width: 100%;
                height: 100%;
                box-sizing: border-box;
                page-break-after: always;
            }

            .print-a4-2 .notice-content {
                width: 100%;
                height: 50%;
                box-sizing: border-box;
            }

            .print-a4-4 .notice-content {
                width: 50%;
                height: 50%;
                float: left;
                box-sizing: border-box;
            }

            .print-a4-4::after {
                content: "";
                display: table;
                clear: both;
            }

            .action-buttons {
                display: none;
            }
        }

        /* Preview Styles */
        .preview-thermal .notice-content {
            width: 80mm;
        }

        .preview-a4-1 .notice-grid {
            flex-direction: column;
        }

        .preview-a4-2 .notice-content {
            width: 100%;
        }

        .preview-a4-2 .notice-grid {
            flex-direction: column;
        }

        .preview-a4-4 .notice-content {
            width: calc(50% - 20px);
        }

        .preview-a4-4 .notice-grid {
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <h1>Suite Entry Notice Generator</h1>
    <div class="container">
        <!-- Form Section -->
        <div class="form-container">
            <div class="gloucester-logo">
                <img src="https://i.imgur.com/LmweghF.png" alt="The Gloucester on Yonge">
            </div>
            <form id="noticeForm">
                <label for="suiteNumber">Suite Number:</label>
                <input type="text" id="suiteNumber" placeholder="e.g., 1205">

                <label>Person(s) who entered the suite:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="personEntered" value="Security"> Security</label>
                    <label><input type="checkbox" name="personEntered" value="Superintendent"> Superintendent</label>
                    <label><input type="checkbox" name="personEntered" value="Management"> Management</label>
                    <label><input type="checkbox" name="personEntered" value="Construction"> Construction</label>
                    <label><input type="checkbox" name="personEntered" value="Other"> Other</label>
                </div>
                <select id="securityGuardSelect" style="display: none;">
                    <option value="">Select Guard</option>
                    <option value="Ajaypreet">Ajaypreet</option>
                    <option value="Amritpal">Amritpal</option>
                    <option value="Meet">Meet</option>
                    <option value="Jatin">Jatin</option>
                    <option value="Praveen">Praveen</option>
                    <option value="Jashanpreet">Jashanpreet</option>
                    <option value="Arnav">Arnav</option>
                    <option value="Gurwinder">Gurwinder</option>
                </select>
                <input type="text" id="otherPerson" placeholder="Specify other" style="display: none;">

                <label for="entryPermission">Entry Type:</label>
                <select id="entryPermission">
                    <option value="">Select option</option>
                    <option value="Resident Permission">Resident Permission</option>
                    <option value="Emergency">Emergency</option>
                    <option value="Scheduled Maintenance">Scheduled Maintenance</option>
                </select>

                <label for="natureOfVisit">Nature of Visit:</label>
                <textarea id="natureOfVisit" rows="3" placeholder="Describe the nature of the visit..."></textarea>

                <label>Options:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="options" value="Work Completed"> Work Completed</label>
                    <label><input type="checkbox" name="options" value="Work Pending"> Work Pending</label>
                    <label><input type="checkbox" name="options" value="Please Contact Property Management"> Please Contact Property Management</label>
                </div>

                <label for="printerType">Printer Type:</label>
                <select id="printerType">
                    <option value="thermal">Thermal Printer</option>
                    <option value="a4">Office Printer (A4)</option>
                </select>

                <div id="a4Options" style="display: none;">
                    <label for="noticesPerPage">Notices per Page:</label>
                    <select id="noticesPerPage">
                        <option value="1">1 per page</option>
                        <option value="2">2 per page</option>
                        <option value="4">4 per page</option>
                    </select>
                </div>

                <button type="submit">Generate Notice</button>
            </form>
        </div>

        <!-- Notice Preview Section -->
        <div class="notice-container">
            <div id="noticePreview" class="notice">
                <div class="notice-grid">
                    <!-- Notice content will be inserted here -->
                </div>
            </div>
            <div class="action-buttons">
                <button id="printNotice">Print Notice</button>
            </div>
        </div>
    </div>

    <div id="noticePrintArea" style="display: none;"></div>

    <script>
        document.querySelectorAll('input[name="personEntered"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const otherInput = document.getElementById('otherPerson');
                const securitySelect = document.getElementById('securityGuardSelect');

                otherInput.style.display = document.querySelector('input[name="personEntered"][value="Other"]').checked ? 'block' : 'none';

                securitySelect.style.display = document.querySelector('input[name="personEntered"][value="Security"]').checked ? 'block' : 'none';
            });
        });

        // Handle printer type selection
        document.getElementById('printerType').addEventListener('change', function() {
            const printerType = this.value;
            const a4Options = document.getElementById('a4Options');

            if (printerType === 'a4') {
                a4Options.style.display = 'block';
            } else {
                a4Options.style.display = 'none';
            }

            updatePreview();
        });

        // Handle notices per page selection
        document.getElementById('noticesPerPage').addEventListener('change', updatePreview);

        // Initial sample notice content
        let noticeHtmlContent = '';

        document.getElementById('noticeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateNotice();
            updatePreview();
        });

        function generateNotice() {
            const suiteNumber = document.getElementById('suiteNumber').value.trim() || '_____';
            const personsEnteredArray = Array.from(document.querySelectorAll('input[name="personEntered"]:checked'))
                .map(checkbox => checkbox.value);
            const otherPerson = document.getElementById('otherPerson').value.trim();
            const securityGuard = document.getElementById('securityGuardSelect').value.trim();
            const entryPermission = document.getElementById('entryPermission').value.trim() || '____________';
            const natureOfVisit = document.getElementById('natureOfVisit').value.trim() || '____________';

            let personsEntered = [];
            if (personsEnteredArray.includes('Other') && otherPerson) {
                personsEntered.push(otherPerson);
            } else if (personsEnteredArray.includes('Other')) {
                personsEntered.push('____________');
            }
            if (personsEnteredArray.includes('Security') && securityGuard) {
                personsEntered.push(`Security (${securityGuard})`);
            } else if (personsEnteredArray.includes('Security')) {
                personsEntered.push('Security (____________)');
            }
            personsEnteredArray.forEach(person => {
                if (person !== 'Other' && person !== 'Security') {
                    personsEntered.push(person);
                }
            });
            if (personsEntered.length === 0) {
                personsEntered.push('____________');
            }

            const optionsSelected = Array.from(document.querySelectorAll('input[name="options"]:checked'))
                .map(option => option.value);

            const optionsHtml = ['Work Completed', 'Work Pending', 'Please Contact Property Management'].map(option => {
                if (optionsSelected.includes(option)) {
                    return `<p>☑ ${option}</p>`;
                } else {
                    return `<p>☐ ${option}</p>`;
                }
            }).join('');

            const currentDate = new Date();
            const formattedDate = currentDate.toLocaleDateString();
            const formattedTime = currentDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

            noticeHtmlContent = `
                <div class="notice-content">
                    <img src="https://i.imgur.com/LmweghF.png" alt="The Gloucester on Yonge" class="logo-img">
                    <h2>SUITE ENTRY NOTICE</h2>
                    <img src="https://i.imgur.com/7O6EOHU.png" alt="Lock Image" class="lock-img">
                    <p><strong>Date/Time:</strong> ${formattedDate} ${formattedTime}</p>
                    <p><strong>Suite Number:</strong> ${suiteNumber}</p>
                    <p><strong>Person(s) who entered:</strong> ${personsEntered.join(', ')}</p>
                    <p><strong>Entry Type:</strong> ${entryPermission}</p>
                    <p><strong>Nature of Visit:</strong> ${natureOfVisit}</p>
                    <p><strong>Options:</strong></p>
                    ${optionsHtml}
                    <p class="notice-footer">Questions? Contact Property Management: 647-368-7395</p>
                </div>
            `;
        }

        // Function to update the preview based on selections
        function updatePreview() {
            const printerType = document.getElementById('printerType').value;
            const noticesPerPage = document.getElementById('noticesPerPage').value || '1';

            const noticePreview = document.getElementById('noticePreview');
            const noticeGrid = noticePreview.querySelector('.notice-grid');
            noticeGrid.innerHTML = '';
            noticePreview.classList.remove('preview-thermal', 'preview-a4-1', 'preview-a4-2', 'preview-a4-4');

            if (!noticeHtmlContent) {
                // Use sample notice if no content generated yet
                generateNotice();
            }

            if (printerType === 'thermal') {
                noticePreview.classList.add('preview-thermal');
                noticeGrid.innerHTML = noticeHtmlContent;
            } else {
                noticePreview.classList.add(`preview-a4-${noticesPerPage}`);
                if (noticesPerPage === '1') {
                    noticeGrid.innerHTML = noticeHtmlContent;
                } else if (noticesPerPage === '2') {
                    noticeGrid.innerHTML = `
                        ${noticeHtmlContent}
                        ${noticeHtmlContent}
                    `;
                } else if (noticesPerPage === '4') {
                    noticeGrid.innerHTML = `
                        ${noticeHtmlContent}
                        ${noticeHtmlContent}
                        ${noticeHtmlContent}
                        ${noticeHtmlContent}
                    `;
                }
            }
        }

        document.getElementById('printNotice').addEventListener('click', function () {
            preparePrint();
            window.print();
        });

        function preparePrint() {
            const printerType = document.getElementById('printerType').value;
            const noticesPerPage = document.getElementById('noticesPerPage').value || '1';

            const noticeContent = noticeHtmlContent;
            const noticePrintArea = document.getElementById('noticePrintArea');

            noticePrintArea.innerHTML = '';
            document.body.classList.remove('print-thermal', 'print-a4-1', 'print-a4-2', 'print-a4-4');

            if (printerType === 'thermal') {
                document.body.classList.add('print-thermal');
                noticePrintArea.innerHTML = noticeContent;
            } else {
                document.body.classList.add(`print-a4-${noticesPerPage}`);
                if (noticesPerPage === '1') {
                    noticePrintArea.innerHTML = noticeContent;
                } else if (noticesPerPage === '2') {
                    noticePrintArea.innerHTML = `
                        <div class="notice-content">${noticeContent}</div>
                        <div class="notice-content">${noticeContent}</div>
                    `;
                } else if (noticesPerPage === '4') {
                    noticePrintArea.innerHTML = `
                        <div class="notice-content">${noticeContent}</div>
                        <div class="notice-content">${noticeContent}</div>
                        <div class="notice-content">${noticeContent}</div>
                        <div class="notice-content">${noticeContent}</div>
                    `;
                }
            }

            // Ensure the print area is visible before printing
            noticePrintArea.style.display = 'block';
        }

        // Hide the print area after printing
        window.onafterprint = function() {
            document.getElementById('noticePrintArea').style.display = 'none';
        };

        // Initialize the preview with default values
        updatePreview();
    </script>
</body>
</html>
